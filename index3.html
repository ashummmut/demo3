<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>About Us - Ankii's Special Site</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #ffecf1 0%, #fef9fb 100%);
      min-height: 100vh;
    }
    .btn-fancy {
      background: #ec4899; color: white; font-weight: 600;
      padding: 0.5rem 1.25rem; border-radius: 9999px;
      box-shadow: 0 4px 14px rgb(236 72 153 / 0.45);
      transition: all 0.25s ease; user-select: none;
    }
    .btn-fancy:hover { background: #db2777; box-shadow: 0 6px 18px rgb(219 39 119 / 0.65); }
    @keyframes fall { 0% { transform: translateY(0); } 100% { transform: translateY(110vh); } }
    @keyframes flap { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px) rotate(2deg); } }
    @keyframes wingFlap { 0%, 100% { transform: rotate(0); } 50% { transform: rotate(10deg); } }
  </style>
</head>
<body>
  <div id="responseBanner" class="hidden bg-green-100 text-green-800 px-4 py-2 text-center font-medium w-full mb-4 rounded-xl fixed top-0 left-0 z-50"></div>

  <main class="max-w-4xl mx-auto px-4 py-12">
    <header class="text-center mb-12">
      <h1 class="text-4xl font-extrabold text-pink-600 mb-2">About Us</h1>
      <p class="text-pink-400">Welcome to your special space, Ankii!</p>
    </header>

    <section id="envelopeSection" class="relative mx-auto max-w-md cursor-pointer select-none group" style="background:#ffd6e8;border-radius:12px;width:220px;height:160px;display:flex;align-items:center;justify-content:center;">
      <img src="https://cdn-icons-png.flaticon.com/512/561/561127.png" alt="Envelope" class="absolute w-48 opacity-40" />
      <img src="https://i.imgur.com/5KD3gFd.png" id="teddyBear" alt="Red Teddy" class="absolute w-24 transition-all duration-700 ease-out -bottom-20 opacity-0" />
    </section>
    <p class="text-center text-pink-500 mt-2 italic">Click the envelope to see your message</p>

    <div id="sorryModal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50">
      <div class="bg-white p-6 rounded-3xl max-w-xs text-center shadow-lg animate-fadeIn">
        <h3 class="text-xl font-bold text-pink-600 mb-4">Did you accept my sorry? 🙈</h3>
        <div class="flex justify-center gap-6">
          <button class="btn-fancy" onclick="handleSorryResponse(true)">Yes 😊</button>
          <button class="btn-fancy bg-gray-400 hover:bg-gray-500" onclick="handleSorryResponse(false)">Nope 😒</button>
        </div>
      </div>
    </div>

    <section class="max-w-xl mx-auto my-16 bg-pink-50 p-6 rounded-2xl shadow-xl text-center">
      <h2 class="text-3xl font-bold text-pink-700 mb-3">🌨️ The Shimla Dream Project 🌨️</h2>
      <p class="text-pink-600 text-base mb-4">Because what’s better than mountains, momos, and Ankii wrapped in 3 sweaters?</p>
      <button onclick="launchShimlaQuestion()" class="btn-fancy">Wanna Hear the Plan? 😄</button>
    </section>

    <section class="text-center my-10">
      <button onclick="handleLikeClick()" class="btn-fancy text-xl">🐉 What We Like</button>
    </section>

    <section class="flex flex-col items-center justify-center my-10">
      <h2 class="text-2xl font-bold text-pink-600 mb-4">Wanna Talk? 📞</h2>
      <a href="https://wa.me/919508812525" target="_blank" class="btn-fancy">Start a WhatsApp Video Call 💬</a>
      <p class="text-sm text-gray-500 mt-2">*Link opens in WhatsApp — make sure Ankii is online 😉</p>
    </section>

    <section class="text-center my-8">
      <a href="chat.html" class="btn-fancy">Open Cute Chat 💌</a>
    </section>

    <section class="max-w-2xl mx-auto my-10 bg-pink-100 p-6 rounded-xl">
      <h2 class="text-2xl font-bold text-pink-600 mb-4 text-center">Your Thoughts 💬</h2>
      <textarea id="commentInput" rows="4" placeholder="Write something fun or sassy here 😜..." class="w-full p-3 rounded-xl border border-pink-300 resize-none"></textarea>
      <button onclick="saveComment()" class="btn-fancy mt-3">Post Review</button>
      <div id="commentsDisplay" class="mt-4 space-y-2 text-left"></div>
    </section>

    <section class="text-center mt-12 mb-20 text-pink-600 font-semibold text-lg" id="bdayCounter" aria-live="polite"></section>
  </main>

  <!-- Dragon SVG & Audio -->
  <audio id="ambientMusic" src="https://cdn.pixabay.com/download/audio/2021/09/21/audio_7f9276a907.mp3" loop></audio>
  <audio id="fireSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_57770d5d4a.mp3"></audio>
  <audio id="teddyPop" src="https://cdn.pixabay.com/audio/2022/03/15/audio_2c52d4f3e3.mp3"></audio>
  <svg id="dragonSVG" viewBox="0 0 200 80" style="position:fixed; left:-250px; top:40%; width:200px; z-index:9999; opacity:0;">
    <path id="wingL" d="M20,40 Q60,5 100,40 Q60,75 20,40" fill="pink" opacity="0.6"/>
    <path id="wingR" d="M180,40 Q140,5 100,40 Q140,75 180,40" fill="pink" opacity="0.6"/>
    <ellipse cx="100" cy="40" rx="50" ry="20" fill="white"/>
    <circle cx="140" cy="30" r="10" fill="white"/>
    <g id="fireGroup" opacity="0">
      <path d="M150,40 C160,30 160,50 150,60" fill="orange"/>
      <path d="M155,40 C165,35 165,45 155,55" fill="red"/>
    </g>
  </svg>

  <script>
    // Auth prompt
    if (localStorage.getItem('auth') !== 'true') {
      const u = prompt('Username:'), p = prompt('Password:');
      if (u !== 'funny' || p !== 'ankii') {
        document.body.innerHTML = '<h1 style="text-align:center;margin-top:100px;">🚫 Access Denied</h1>';
        throw new Error('Unauthorized');
      }
      localStorage.setItem('auth', 'true');
    }

    // Teddy click
    document.getElementById('envelopeSection').addEventListener('click', () => {
      const teddy = document.getElementById('teddyBear');
      teddy.style.bottom = '30px';
      teddy.style.opacity = '1';
      document.getElementById('teddyPop').play();
      setTimeout(() => document.getElementById('sorryModal').classList.remove('hidden'), 1200);
    });

    function handleSorryResponse(ok) {
      localStorage.setItem('sorryResponse', ok ? 'accepted' : 'not accepted');
      document.getElementById('sorryModal').classList.add('hidden');
      const banner = document.getElementById('responseBanner');
      banner.textContent = ok ? '🌟 Ankii accepted your sorry!' : '⏳ Still waiting for forgiveness...';
      banner.classList.remove('hidden');
    }

    function launchShimlaQuestion() {
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50';
      modal.innerHTML = `<div class="bg-white p-6 rounded-3xl max-w-sm text-center shadow-lg"><h3 class="text-xl font-bold text-pink-600 mb-4">Would you ever go to Shimla with me? 😁</h3><p class="mb-4 text-gray-600">It's not just snow — it's snow + hot chocolate + me talking nonstop! 🗻☕️</p><div class="flex justify-center gap-6"><button class="btn-fancy" onclick="handleShimlaResponse(true,this)">Someday maybe 😉</button><button class="btn-fancy bg-gray-400" onclick="handleShimlaResponse(false,this)">Nope 😤</button></div></div>`;
      document.body.appendChild(modal);
    }

    function handleShimlaResponse(yes, btn) {
      const modal = btn.closest('.fixed');
      modal.innerHTML = yes ? `<div class="bg-white p-6 rounded-3xl max-w-sm text-center shadow-lg"><h3 class="text-xl font-bold text-pink-600 mb-4">Yay! ❄️</h3><img src="https://media.giphy.com/media/3o7btZQVU1ltlct3Qs/giphy.gif" class="mx-auto rounded-xl" /><button class="btn-fancy mt-4" onclick="this.closest('.fixed').remove()">Close</button></div>` :
      `<div class="bg-white p-6 rounded-3xl max-w-sm text-center shadow-lg"><h3 class="text-xl font-bold text-pink-600 mb-4">Noooo 😭</h3><img src="https://media.giphy.com/media/xT9IgIc0lryrxvqVGM/giphy.gif" class="mx-auto rounded-xl" /><button class="btn-fancy mt-4" onclick="this.closest('.fixed').remove()">Fineee 🥲</button></div>`;
      if (yes) triggerSnowfall();
    }

    function triggerSnowfall() {
      const snow = document.createElement('div');
      snow.style.cssText = 'position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:9999;';
      for (let i = 0; i < 30; i++) {
        const flake = document.createElement('div');
        flake.textContent = '❄️';
        flake.style.cssText = `position:absolute;left:${Math.random()*100}vw;top:-${Math.random()*20}vh;font-size:${10+Math.random()*20}px;opacity:${Math.random()};animation:fall 7s linear infinite;animation-delay:${i*0.2}s;`;
        snow.appendChild(flake);
      }
      document.body.appendChild(snow);
      setTimeout(() => snow.remove(), 7000);
    }

    function handleLikeClick() {
      const svg = document.getElementById('dragonSVG'), fire = document.getElementById('fireGroup');
      svg.style.opacity = '1'; svg.style.left = '-250px';
      svg.style.transition = 'left 3s linear'; svg.style.left = '100vw';
      svg.querySelectorAll('path[id^="wing"]').forEach(el => el.style.animation = 'wingFlap 0.5s infinite');
      document.getElementById('ambientMusic').play();
      setTimeout(() => { fire.style.opacity = '1'; document.getElementById('fireSound').play(); }, 1000);
      setTimeout(() => window.location.href = 'likes.html', 3600);
    }

    function saveComment() {
      const val = document.getElementById('commentInput').value.trim();
      if (!val) return;
      let comments = JSON.parse(localStorage.getItem('comments') || '[]');
      comments.push({ text: val, time: new Date().toLocaleString() });
      localStorage.setItem('comments', JSON.stringify(comments));
      document.getElementById('commentInput').value = '';
      renderComments();
    }

    function renderComments() {
      const div = document.getElementById('commentsDisplay');
      let comments = JSON.parse(localStorage.getItem('comments') || '[]');
      div.innerHTML = comments.map(c => `<div class="p-3 bg-pink-50 rounded-xl shadow-sm"><p class="text-pink-800">${c.text}</p><p class="text-xs text-gray-400 text-right mt-1">${c.time}</p></div>`).join('');
    }

    function updateBirthdayCountdown() {
      const el = document.getElementById('bdayCounter'), now = new Date();
      let bday = new Date(now.getFullYear(), 1, 4);
      if (now > bday) bday.setFullYear(now.getFullYear() + 1);
      const days = Math.ceil((bday - now) / (1000 * 60 * 60 * 24));
      el.textContent = `🎂 ${days} days until Ankii's Birthday!`;
    }

    window.addEventListener('load', () => {
      renderComments();
      updateBirthdayCountdown();
    });
  </script>
</body>
</html>
